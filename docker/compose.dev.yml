services:
    frontend-dev:
        container_name: frontend-dev
        ports:
            - '5173:5173'
        build:
            context: ../frontend
            dockerfile: dockerfile.dev
        volumes:
            - ../frontend:/app
        restart: always

    nginx-dev:
        container_name: nginx-dev
        ports:
            - '81:81'
        build:
            context: ../nginx
            dockerfile: dockerfile.dev
        volumes:
            - ../nginx/nginx.dev.conf:/etc/nginx/conf.d/nginx.conf
        depends_on:
            - frontend-dev
        restart: always

    backend-dev:
        container_name: backend-dev
        ports:
            - '3000:3000'
        build:
            context: ../backend
            dockerfile: dockerfile.dev
        volumes:
            - ../backend:/app
        restart: always

networks:
    default:
        name: ${NETWORK_NAME_DEV}
